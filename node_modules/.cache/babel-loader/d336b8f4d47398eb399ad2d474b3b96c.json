{"ast":null,"code":"import _createForOfIteratorHelper from \"/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { WebPlugin } from '@capacitor/core';\nexport var DeviceWeb = /*#__PURE__*/function (_WebPlugin) {\n  _inherits(DeviceWeb, _WebPlugin);\n\n  var _super = _createSuper(DeviceWeb);\n\n  function DeviceWeb() {\n    _classCallCheck(this, DeviceWeb);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DeviceWeb, [{\n    key: \"getId\",\n    value: function () {\n      var _getId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", {\n                  uuid: this.getUid()\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getId() {\n        return _getId.apply(this, arguments);\n      }\n\n      return getId;\n    }()\n  }, {\n    key: \"getInfo\",\n    value: function () {\n      var _getInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var ua, uaFields;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(typeof navigator === 'undefined' || !navigator.userAgent)) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw this.unavailable('Device API not available in this browser');\n\n              case 2:\n                ua = navigator.userAgent;\n                uaFields = this.parseUa(ua);\n                return _context2.abrupt(\"return\", {\n                  model: uaFields.model,\n                  platform: 'web',\n                  operatingSystem: uaFields.operatingSystem,\n                  osVersion: uaFields.osVersion,\n                  manufacturer: navigator.vendor,\n                  isVirtual: false,\n                  webViewVersion: uaFields.browserVersion\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getInfo() {\n        return _getInfo.apply(this, arguments);\n      }\n\n      return getInfo;\n    }()\n  }, {\n    key: \"getBatteryInfo\",\n    value: function () {\n      var _getBatteryInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var battery;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(typeof navigator === 'undefined' || !navigator.getBattery)) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw this.unavailable('Device API not available in this browser');\n\n              case 2:\n                battery = {};\n                _context3.prev = 3;\n                _context3.next = 6;\n                return navigator.getBattery();\n\n              case 6:\n                battery = _context3.sent;\n                _context3.next = 11;\n                break;\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](3);\n\n              case 11:\n                return _context3.abrupt(\"return\", {\n                  batteryLevel: battery.level,\n                  isCharging: battery.charging\n                });\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[3, 9]]);\n      }));\n\n      function getBatteryInfo() {\n        return _getBatteryInfo.apply(this, arguments);\n      }\n\n      return getBatteryInfo;\n    }()\n  }, {\n    key: \"getLanguageCode\",\n    value: function () {\n      var _getLanguageCode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", {\n                  value: navigator.language\n                });\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getLanguageCode() {\n        return _getLanguageCode.apply(this, arguments);\n      }\n\n      return getLanguageCode;\n    }()\n  }, {\n    key: \"parseUa\",\n    value: function parseUa(ua) {\n      var uaFields = {};\n      var start = ua.indexOf('(') + 1;\n      var end = ua.indexOf(') AppleWebKit');\n\n      if (ua.indexOf(') Gecko') !== -1) {\n        end = ua.indexOf(') Gecko');\n      }\n\n      var fields = ua.substring(start, end);\n\n      if (ua.indexOf('Android') !== -1) {\n        var tmpFields = fields.replace('; wv', '').split('; ').pop();\n\n        if (tmpFields) {\n          uaFields.model = tmpFields.split(' Build')[0];\n        }\n\n        uaFields.osVersion = fields.split('; ')[1];\n      } else {\n        uaFields.model = fields.split('; ')[0];\n\n        if (typeof navigator !== 'undefined' && navigator.oscpu) {\n          uaFields.osVersion = navigator.oscpu;\n        } else {\n          if (ua.indexOf('Windows') !== -1) {\n            uaFields.osVersion = fields;\n          } else {\n            var _tmpFields = fields.split('; ').pop();\n\n            if (_tmpFields) {\n              var lastParts = _tmpFields.replace(' like Mac OS X', '').split(' ');\n\n              uaFields.osVersion = lastParts[lastParts.length - 1].replace(/_/g, '.');\n            }\n          }\n        }\n      }\n\n      if (/android/i.test(ua)) {\n        uaFields.operatingSystem = 'android';\n      } else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {\n        uaFields.operatingSystem = 'ios';\n      } else if (/Win/.test(ua)) {\n        uaFields.operatingSystem = 'windows';\n      } else if (/Mac/i.test(ua)) {\n        uaFields.operatingSystem = 'mac';\n      } else {\n        uaFields.operatingSystem = 'unknown';\n      } // Check for browsers based on non-standard javascript apis, only not user agent\n\n\n      var isFirefox = !!window.InstallTrigger;\n      var isSafari = !!window.ApplePaySession;\n      var isChrome = !!window.chrome;\n      var isEdge = /Edg/.test(ua);\n      var isFirefoxIOS = /FxiOS/.test(ua);\n      var isChromeIOS = /CriOS/.test(ua);\n      var isEdgeIOS = /EdgiOS/.test(ua); // FF and Edge User Agents both end with \"/MAJOR.MINOR\"\n\n      if (isSafari || isChrome && !isEdge || isFirefoxIOS || isChromeIOS || isEdgeIOS) {\n        // Safari version comes as     \"... Version/MAJOR.MINOR ...\"\n        // Chrome version comes as     \"... Chrome/MAJOR.MINOR ...\"\n        // FirefoxIOS version comes as \"... FxiOS/MAJOR.MINOR ...\"\n        // ChromeIOS version comes as  \"... CriOS/MAJOR.MINOR ...\"\n        var searchWord;\n\n        if (isFirefoxIOS) {\n          searchWord = 'FxiOS';\n        } else if (isChromeIOS) {\n          searchWord = 'CriOS';\n        } else if (isEdgeIOS) {\n          searchWord = 'EdgiOS';\n        } else if (isSafari) {\n          searchWord = 'Version';\n        } else {\n          searchWord = 'Chrome';\n        }\n\n        var words = ua.split(' ');\n\n        var _iterator = _createForOfIteratorHelper(words),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var word = _step.value;\n\n            if (word.includes(searchWord)) {\n              var version = word.split('/')[1];\n              uaFields.browserVersion = version;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else if (isFirefox || isEdge) {\n        var reverseUA = ua.split('').reverse().join('');\n        var reverseVersion = reverseUA.split('/')[0];\n\n        var _version = reverseVersion.split('').reverse().join('');\n\n        uaFields.browserVersion = _version;\n      }\n\n      return uaFields;\n    }\n  }, {\n    key: \"getUid\",\n    value: function getUid() {\n      if (typeof window !== 'undefined') {\n        var uid = window.localStorage.getItem('_capuid');\n\n        if (uid) {\n          return uid;\n        }\n\n        uid = this.uuid4();\n        window.localStorage.setItem('_capuid', uid);\n        return uid;\n      }\n\n      return this.uuid4();\n    }\n  }, {\n    key: \"uuid4\",\n    value: function uuid4() {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0,\n            v = c === 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n      });\n    }\n  }]);\n\n  return DeviceWeb;\n}(WebPlugin);","map":{"version":3,"mappings":"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","names":["WebPlugin","DeviceWeb","uuid","getUid","navigator","userAgent","unavailable","ua","uaFields","parseUa","model","platform","operatingSystem","osVersion","manufacturer","vendor","isVirtual","webViewVersion","browserVersion","getBattery","battery","batteryLevel","level","isCharging","charging","value","language","start","indexOf","end","fields","substring","tmpFields","replace","split","pop","oscpu","lastParts","length","test","window","MSStream","isFirefox","InstallTrigger","isSafari","ApplePaySession","isChrome","chrome","isEdge","isFirefoxIOS","isChromeIOS","isEdgeIOS","searchWord","words","word","includes","version","reverseUA","reverse","join","reverseVersion","uid","localStorage","getItem","uuid4","setItem","c","r","Math","random","v","toString"],"sources":["/data/data/com.termux/files/home/Ionic/ExploringApp/node_modules/@capacitor/device/src/web.ts"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\n\nimport type {\n  BatteryInfo,\n  DeviceId,\n  DeviceInfo,\n  DevicePlugin,\n  GetLanguageCodeResult,\n} from './definitions';\n\ndeclare global {\n  interface Navigator {\n    getBattery: any;\n    oscpu: any;\n  }\n\n  interface Window {\n    InstallTrigger?: any;\n    ApplePaySession?: any;\n    chrome?: any;\n  }\n}\n\nexport class DeviceWeb extends WebPlugin implements DevicePlugin {\n  async getId(): Promise<DeviceId> {\n    return {\n      uuid: this.getUid(),\n    };\n  }\n\n  async getInfo(): Promise<DeviceInfo> {\n    if (typeof navigator === 'undefined' || !navigator.userAgent) {\n      throw this.unavailable('Device API not available in this browser');\n    }\n\n    const ua = navigator.userAgent;\n    const uaFields = this.parseUa(ua);\n\n    return {\n      model: uaFields.model,\n      platform: <const>'web',\n      operatingSystem: uaFields.operatingSystem,\n      osVersion: uaFields.osVersion,\n      manufacturer: navigator.vendor,\n      isVirtual: false,\n      webViewVersion: uaFields.browserVersion,\n    };\n  }\n\n  async getBatteryInfo(): Promise<BatteryInfo> {\n    if (typeof navigator === 'undefined' || !navigator.getBattery) {\n      throw this.unavailable('Device API not available in this browser');\n    }\n    let battery: any = {};\n\n    try {\n      battery = await navigator.getBattery();\n    } catch (e) {\n      // Let it fail, we don't care\n    }\n\n    return {\n      batteryLevel: battery.level,\n      isCharging: battery.charging,\n    };\n  }\n\n  async getLanguageCode(): Promise<GetLanguageCodeResult> {\n    return {\n      value: navigator.language,\n    };\n  }\n\n  parseUa(ua: string): any {\n    const uaFields: any = {};\n    const start = ua.indexOf('(') + 1;\n    let end = ua.indexOf(') AppleWebKit');\n    if (ua.indexOf(') Gecko') !== -1) {\n      end = ua.indexOf(') Gecko');\n    }\n    const fields = ua.substring(start, end);\n    if (ua.indexOf('Android') !== -1) {\n      const tmpFields = fields.replace('; wv', '').split('; ').pop();\n      if (tmpFields) {\n        uaFields.model = tmpFields.split(' Build')[0];\n      }\n      uaFields.osVersion = fields.split('; ')[1];\n    } else {\n      uaFields.model = fields.split('; ')[0];\n      if (typeof navigator !== 'undefined' && navigator.oscpu) {\n        uaFields.osVersion = navigator.oscpu;\n      } else {\n        if (ua.indexOf('Windows') !== -1) {\n          uaFields.osVersion = fields;\n        } else {\n          const tmpFields = fields.split('; ').pop();\n          if (tmpFields) {\n            const lastParts = tmpFields\n              .replace(' like Mac OS X', '')\n              .split(' ');\n            uaFields.osVersion = lastParts[lastParts.length - 1].replace(\n              /_/g,\n              '.',\n            );\n          }\n        }\n      }\n    }\n\n    if (/android/i.test(ua)) {\n      uaFields.operatingSystem = 'android';\n    } else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {\n      uaFields.operatingSystem = 'ios';\n    } else if (/Win/.test(ua)) {\n      uaFields.operatingSystem = 'windows';\n    } else if (/Mac/i.test(ua)) {\n      uaFields.operatingSystem = 'mac';\n    } else {\n      uaFields.operatingSystem = 'unknown';\n    }\n\n    // Check for browsers based on non-standard javascript apis, only not user agent\n    const isFirefox = !!window.InstallTrigger;\n    const isSafari = !!window.ApplePaySession;\n    const isChrome = !!window.chrome;\n    const isEdge = /Edg/.test(ua);\n    const isFirefoxIOS = /FxiOS/.test(ua);\n    const isChromeIOS = /CriOS/.test(ua);\n    const isEdgeIOS = /EdgiOS/.test(ua);\n\n    // FF and Edge User Agents both end with \"/MAJOR.MINOR\"\n    if (\n      isSafari ||\n      (isChrome && !isEdge) ||\n      isFirefoxIOS ||\n      isChromeIOS ||\n      isEdgeIOS\n    ) {\n      // Safari version comes as     \"... Version/MAJOR.MINOR ...\"\n      // Chrome version comes as     \"... Chrome/MAJOR.MINOR ...\"\n      // FirefoxIOS version comes as \"... FxiOS/MAJOR.MINOR ...\"\n      // ChromeIOS version comes as  \"... CriOS/MAJOR.MINOR ...\"\n      let searchWord: string;\n      if (isFirefoxIOS) {\n        searchWord = 'FxiOS';\n      } else if (isChromeIOS) {\n        searchWord = 'CriOS';\n      } else if (isEdgeIOS) {\n        searchWord = 'EdgiOS';\n      } else if (isSafari) {\n        searchWord = 'Version';\n      } else {\n        searchWord = 'Chrome';\n      }\n\n      const words = ua.split(' ');\n      for (const word of words) {\n        if (word.includes(searchWord)) {\n          const version = word.split('/')[1];\n          uaFields.browserVersion = version;\n        }\n      }\n    } else if (isFirefox || isEdge) {\n      const reverseUA = ua.split('').reverse().join('');\n      const reverseVersion = reverseUA.split('/')[0];\n      const version = reverseVersion.split('').reverse().join('');\n      uaFields.browserVersion = version;\n    }\n\n    return uaFields;\n  }\n\n  getUid(): string {\n    if (typeof window !== 'undefined') {\n      let uid = window.localStorage.getItem('_capuid');\n      if (uid) {\n        return uid;\n      }\n\n      uid = this.uuid4();\n      window.localStorage.setItem('_capuid', uid);\n      return uid;\n    }\n    return this.uuid4();\n  }\n\n  uuid4(): string {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n      /[xy]/g,\n      function (c) {\n        const r = (Math.random() * 16) | 0,\n          v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n      },\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}